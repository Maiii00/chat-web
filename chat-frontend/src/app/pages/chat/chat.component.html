<div class="chat-container">
    <header class="chat-header">
        <h2>{{ receiverUsername }}</h2>
    </header>

    <section class="chat-messages" #chatMessages>
        <div 
            *ngFor="let msg of messages" 
            class="chat-message" 
            [ngClass]="{ 'own-message': msg.senderId === senderId }"
        >
            <div class="message-bubble">
                <span class="content">{{ msg.content }}</span>
            </div>
        </div>
    </section>

    <footer class="chat-input">
        <textarea
            [(ngModel)]="newMessage" 
            (keydown)="handleKeyDown($event)"
            rows="2"
            placeholder="輸入訊息..."></textarea>
        <button (click)="sendMessage()">發送</button>
    </footer>
</div>
